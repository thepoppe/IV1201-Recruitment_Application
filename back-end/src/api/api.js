/**
 * Base funciton for http request
 * handles request and status codes
 */